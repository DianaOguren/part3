{"version":3,"sources":["components/Persons.js","components/Filter.js","components/PersonForm.js","services/persons.js","components/SuccessNotification.js","components/ErrorNotification.js","App.js","index.js"],"names":["Person","props","personsFilter","persons","filter","person","name","toLowerCase","includes","filterValue","map","number","onClick","onDelete","id","Filter","value","onChange","PersonForm","onSubmit","valueName","onChangeName","valueNumber","onChangeNumber","type","baseUrl","exportedObject","getAll","axios","get","then","response","data","create","newObject","post","remove","delete","status","update","put","SuccessNotification","message","className","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","setFilter","successMessage","setSuccessMessage","errorMessage","setErrorMessage","useEffect","personService","initialNames","ErrorNotification","event","target","preventDefault","nameObject","length","some","window","confirm","existedperson","find","changedPerson","returnedPerson","setTimeout","concat","Persons","catch","error","n","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.9dd6cc81.chunk.js","sourcesContent":["import React from 'react'\n\nconst Person = (props) => {\n  let personsFilter = props.persons.filter(person => (person.name.toLowerCase().includes(props.filterValue.toLowerCase())));\n  return (\n    <ul>\n        {personsFilter.map(person => \n            <li key = {person.id}>{person.name}  {person.number} <button onClick={() => props.onDelete(person)}>Delete</button></li>\n        )}\n      </ul>\n  )\n}\n\nexport default Person","import React from 'react'\n\nconst Filter = (props) => {\n  return (\n    <div>filter shown with <input \n    value={props.value}\n    onChange={props.onChange}/></div>\n  )\n}\n\nexport default Filter;","import React from 'react'\n\nconst PersonForm = (props) => {\n  return (\n    <form onSubmit={props.onSubmit}>\n        <div>\n          name: <input \n          value={props.valueName}\n          onChange={props.onChangeName}/>\n        </div>\n        <div>number: <input \n        value={props.valueNumber}\n        onChange={props.onChangeNumber}/></div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n  )\n}\n\nexport default PersonForm\n\n\n","import axios from 'axios'\n\nconst baseUrl = '/api/persons';\n\nconst getAll = () => {\n    const request = axios.get(baseUrl);\n    return request.then(response => response.data);\n};\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject);\n  return request.then(response => response.data);\n};\n\nconst remove = (person) => {\n  const request = axios.delete(`${baseUrl}/${person.id}`);\n  return request.then(response => response.status);\n};\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\n  return request.then(response => response.data);\n}\n\nconst exportedObject = {\n  getAll,\n  create,\n  remove,\n  update\n}\n\nexport default exportedObject;","const SuccessNotification = ({ message }) => {\n    if (message === null) {\n      return null\n    }\n  \n    return (\n      <div className='success'>\n        {message}\n      </div>\n    )\n  }\n\nexport default SuccessNotification;","const SuccessNotification = ({ message }) => {\n    if (message === null) {\n      return null\n    }\n  \n    return (\n      <div className='error'>\n        {message}\n      </div>\n    )\n  }\n\nexport default SuccessNotification;","import React, { useState, useEffect } from 'react'\nimport Persons from './components/Persons'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport personService from './services/persons'\nimport SuccessNotification from './components/SuccessNotification'\nimport ErrorNotification from './components/ErrorNotification'\n\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filterValue, setFilter] = useState('')\n  const [successMessage, setSuccessMessage] = useState(null)\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialNames => {\n        setPersons(initialNames)\n      })\n  }, [])\n\n  const addName = (event) => {\n    event.preventDefault()\n    const nameObject = {\n      id: persons.length + 1,\n      name: newName,\n      number: newNumber,\n    }\n    \n    if (persons.some(person => person.name === nameObject.name)){\n      if (window.confirm(`${nameObject.name} is already added to phonebook, replace the old number with a new one?`)){\n        const existedperson = persons.find(person => person.name === nameObject.name)\n        const changedPerson = { ...existedperson, number: nameObject.number }\n        personService\n          .update(changedPerson.id, changedPerson)\n          .then(returnedPerson => {\n            setPersons(persons.map(person => person.id !== returnedPerson.id ? person : returnedPerson)\n            )\n            setSuccessMessage(`Number of '${changedPerson.name}' is updated`)\n            setTimeout(() => {\n              setSuccessMessage(null)\n            }, 5000)\n          \n          \n      })\n      }\n    } else {\n      setPersons(persons.concat(nameObject))\n      setSuccessMessage(`'${nameObject.name}' is added to the phonebook`)\n      setTimeout(() => {\n        setSuccessMessage(null)\n      }, 5000)\n      setNewName('')\n      setNewNumber('')\n\n      personService\n      .create(nameObject)\n      .then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson))\n      })\n    \n  }};\n\n  \n  \n  const handleNameChange = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value);\n  };\n  \n  \n  const handlefilterChange = (event) => {\n    setFilter(event.target.value);\n  };\n\n  const handleDelete = person => {\n    personService\n    .remove(person)\n    .catch(error => {\n      setErrorMessage(`Name'${person.name}' was already deleted from phonebook`)\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 5000)\n        setPersons(persons.filter(n => n.id !== person.id))\n      })\n    .then(response => {\n      window.confirm(`Delete ${person.name}?`);\n      personService\n      .getAll()\n      .then(initialNames => {\n        setPersons(initialNames)\n      })\n    });\n    \n  } \n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <SuccessNotification message={successMessage}/>\n      <ErrorNotification message={errorMessage}/>\n      <Filter  value={filterValue}\n          onChange={handlefilterChange}/>\n      <PersonForm onSubmit={addName} valueName={newName} onChangeName={handleNameChange} valueNumber={newNumber} onChangeNumber={handleNumberChange}/>\n\n      <h2>Numbers</h2>\n      <Persons persons = {persons} filterValue = {filterValue} onDelete ={handleDelete}/>\n    </div>\n  )\n}\n\nexport default App;","import ReactDOM from 'react-dom'\nimport App from './App.js'\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}