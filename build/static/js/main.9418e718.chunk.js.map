{"version":3,"sources":["components/Persons.js","components/Filter.js","components/PersonForm.js","services/persons.js","components/SuccessNotification.js","components/ErrorNotification.js","App.js","index.js"],"names":["Person","props","personsFilter","persons","filter","person","name","toLowerCase","includes","filterValue","map","number","onClick","onDelete","id","Filter","value","onChange","PersonForm","onSubmit","valueName","onChangeName","valueNumber","onChangeNumber","type","baseUrl","exportedObject","getAll","axios","get","then","response","data","create","newObject","post","remove","delete","status","update","put","SuccessNotification","message","className","ErrorNotification","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","setFilter","successMessage","setSuccessMessage","errorMessage","setErrorMessage","useEffect","personService","initialNames","event","target","preventDefault","nameObject","some","window","confirm","existedperson","find","changedPerson","returnedPerson","setTimeout","concat","catch","error","n","Persons","ReactDOM","render","document","getElementById"],"mappings":"4KAaeA,EAXA,SAACC,GACd,IAAIC,EAAgBD,EAAME,QAAQC,QAAO,SAAAC,GAAM,OAAKA,EAAOC,KAAKC,cAAcC,SAASP,EAAMQ,YAAYF,kBACzG,OACE,6BACKL,EAAcQ,KAAI,SAAAL,GAAM,OACrB,+BAAuBA,EAAOC,KAA9B,KAAsCD,EAAOM,OAA7C,IAAqD,wBAAQC,QAAS,kBAAMX,EAAMY,SAASR,IAAtC,sBAA1CA,EAAOS,UCGfC,EARA,SAACd,GACd,OACE,qDAAuB,uBACvBe,MAAOf,EAAMe,MACbC,SAAUhB,EAAMgB,eCcLC,EAlBI,SAACjB,GAClB,OACE,uBAAMkB,SAAUlB,EAAMkB,SAAtB,UACI,yCACQ,uBACNH,MAAOf,EAAMmB,UACbH,SAAUhB,EAAMoB,kBAElB,2CAAa,uBACbL,MAAOf,EAAMqB,YACbL,SAAUhB,EAAMsB,oBAChB,8BACE,wBAAQC,KAAK,SAAb,uB,gBCZJC,EAAU,eA8BDC,EAPQ,CACrBC,OArBa,WAEX,OADgBC,IAAMC,IAAIJ,GACXK,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAoB3CC,OAjBa,SAAAC,GAEb,OADgBN,IAAMO,KAAKV,EAASS,GACrBJ,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAgBzCI,OAba,SAAC/B,GAEd,OADgBuB,IAAMS,OAAN,UAAgBZ,EAAhB,YAA2BpB,EAAOS,KACnCgB,MAAK,SAAAC,GAAQ,OAAIA,EAASO,WAYzCC,OATa,SAACzB,EAAIoB,GAElB,OADgBN,IAAMY,IAAN,UAAaf,EAAb,YAAwBX,GAAMoB,GAC/BJ,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UCV5BS,EAZa,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QAC3B,OAAgB,OAAZA,EACK,KAIP,qBAAKC,UAAU,UAAf,SACGD,KCKME,EAZW,SAAC,GAAiB,IAAfF,EAAc,EAAdA,QACzB,OAAgB,OAAZA,EACK,KAIP,qBAAKC,UAAU,QAAf,SACGD,KC0HMG,EAxHH,WACV,MAA8BC,mBAAS,IAAvC,mBAAO3C,EAAP,KAAgB4C,EAAhB,KACA,EAA8BD,mBAAS,IAAvC,mBAAOE,EAAP,KAAgBC,EAAhB,KACA,EAAkCH,mBAAS,IAA3C,mBAAOI,EAAP,KAAkBC,EAAlB,KACA,EAAiCL,mBAAS,IAA1C,mBAAOrC,EAAP,KAAoB2C,EAApB,KACA,EAA4CN,mBAAS,MAArD,mBAAOO,EAAP,KAAuBC,EAAvB,KACA,EAAwCR,mBAAS,MAAjD,mBAAOS,EAAP,KAAqBC,EAArB,KAEAC,qBAAU,WACRC,EACG/B,SACAG,MAAK,SAAA6B,GACJZ,EAAWY,QAEd,IA2FH,OACE,gCACE,2CACA,cAAC,EAAD,CAAqBjB,QAASW,IAC9B,cAAC,EAAD,CAAmBX,QAASa,IAC5B,cAAC,EAAD,CAASvC,MAAOP,EACZQ,SA9BmB,SAAC2C,GAC1BR,EAAUQ,EAAMC,OAAO7C,UA8BrB,cAAC,EAAD,CAAYG,SAhGA,SAACyC,GACfA,EAAME,iBACN,IAAMC,EAAa,CACjBzD,KAAM0C,EACNrC,OAAQuC,GAGV,GAAI/C,EAAQ6D,MAAK,SAAA3D,GAAM,OAAIA,EAAOC,OAASyD,EAAWzD,SACpD,GAAI2D,OAAOC,QAAP,UAAkBH,EAAWzD,KAA7B,2EAA2G,CAC7G,IAAM6D,EAAgBhE,EAAQiE,MAAK,SAAA/D,GAAM,OAAIA,EAAOC,OAASyD,EAAWzD,QAClE+D,EAAa,2BAAQF,GAAR,IAAuBxD,OAAQoD,EAAWpD,SAC7DsC,EAAW,IACXE,EAAa,IAEbO,EACGnB,OAAO8B,EAAcvD,GAAIuD,GACzBvC,MAAK,SAAAwC,GACJvB,EAAW5C,EAAQO,KAAI,SAAAL,GAAM,OAAIA,EAAOS,KAAOwD,EAAexD,GAAKT,EAASiE,MAE5EhB,EAAkB,cAAD,OAAee,EAAc/D,KAA7B,iBACfiE,YAAW,WACXjB,EAAkB,QACjB,cAMTP,EAAW5C,EAAQqE,OAAOT,IAC1BT,EAAkB,IAAD,OAAKS,EAAWzD,KAAhB,gCACfiE,YAAW,WACXjB,EAAkB,QACjB,KACHL,EAAW,IACXE,EAAa,IAEbO,EACCzB,OAAO8B,GACPjC,MAAK,SAAAwC,GACJvB,EAAW5C,EAAQqE,OAAOF,OAE3BG,OAAM,SAAAC,GACLpB,EAAkB,MAClBE,EAAgB,GAAD,OAAIkB,EAAM3C,SAASC,KAAK0C,QACrCH,YAAW,WACTf,EAAgB,QACf,KACLT,EAAW5C,EAAQC,QAAO,SAAAuE,GAAC,OAAIA,EAAErE,OAASyD,EAAWzD,aAiDxBc,UAAW4B,EAAS3B,aAxC9B,SAACuC,GACxBX,EAAWW,EAAMC,OAAO7C,QAuC6DM,YAAa4B,EAAW3B,eApCpF,SAACqC,GAC1BT,EAAaS,EAAMC,OAAO7C,UAqCxB,yCACA,cAAC4D,EAAD,CAASzE,QAAWA,EAASM,YAAeA,EAAaI,SA9BxC,SAAAR,GACnBqD,EACCtB,OAAO/B,GACPoE,OAAM,SAAAC,GACLlB,EAAgB,QAAD,OAASnD,EAAOC,KAAhB,yCACTiE,YAAW,WACTf,EAAgB,QACf,KACPT,EAAW5C,EAAQC,QAAO,SAAAuE,GAAC,OAAIA,EAAE7D,KAAOT,EAAOS,UAElDgB,MAAK,SAAAC,GACJkC,OAAOC,QAAP,iBAAyB7D,EAAOC,KAAhC,MACAoD,EACC/B,SACAG,MAAK,SAAA6B,GACJZ,EAAWY,gB,MCzGnBkB,IAASC,OAAO,cAAC,EAAD,IAASC,SAASC,eAAe,W","file":"static/js/main.9418e718.chunk.js","sourcesContent":["import React from 'react'\n\nconst Person = (props) => {\n  let personsFilter = props.persons.filter(person => (person.name.toLowerCase().includes(props.filterValue.toLowerCase())));\n  return (\n    <ul>\n        {personsFilter.map(person => \n            <li key = {person.id}>{person.name}  {person.number} <button onClick={() => props.onDelete(person)}>Delete</button></li>\n        )}\n      </ul>\n  )\n}\n\nexport default Person","import React from 'react'\n\nconst Filter = (props) => {\n  return (\n    <div>filter shown with <input \n    value={props.value}\n    onChange={props.onChange}/></div>\n  )\n}\n\nexport default Filter;","import React from 'react'\n\nconst PersonForm = (props) => {\n  return (\n    <form onSubmit={props.onSubmit}>\n        <div>\n          name: <input \n          value={props.valueName}\n          onChange={props.onChangeName}/>\n        </div>\n        <div>number: <input \n        value={props.valueNumber}\n        onChange={props.onChangeNumber}/></div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n  )\n}\n\nexport default PersonForm\n\n\n","import axios from 'axios'\n\nconst baseUrl = '/api/persons';\n\n\nconst getAll = () => {\n    const request = axios.get(baseUrl);\n    return request.then(response => response.data);\n};\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject);\n  return request.then(response => response.data);\n};\n\nconst remove = (person) => {\n  const request = axios.delete(`${baseUrl}/${person.id}`);\n  return request.then(response => response.status);\n};\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\n  return request.then(response => response.data);\n}\n\nconst exportedObject = {\n  getAll,\n  create,\n  remove,\n  update\n}\n\nexport default exportedObject;","const SuccessNotification = ({ message }) => {\n    if (message === null) {\n      return null\n    }\n  \n    return (\n      <div className='success'>\n        {message}\n      </div>\n    )\n  }\n\nexport default SuccessNotification;","const ErrorNotification = ({ message }) => {\n    if (message === null) {\n      return null\n    }\n  \n    return (\n      <div className='error'>\n        {message}\n      </div>\n    )\n  }\n\nexport default ErrorNotification;","import React, { useState, useEffect } from 'react'\nimport Persons from './components/Persons'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport personService from './services/persons'\nimport SuccessNotification from './components/SuccessNotification'\nimport ErrorNotification from './components/ErrorNotification'\n\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filterValue, setFilter] = useState('')\n  const [successMessage, setSuccessMessage] = useState(null)\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialNames => {\n        setPersons(initialNames)\n      })\n  }, [])\n\n  const addName = (event) => {\n    event.preventDefault()\n    const nameObject = {\n      name: newName,\n      number: newNumber,\n    }\n    \n    if (persons.some(person => person.name === nameObject.name)){\n      if (window.confirm(`${nameObject.name} is already added to phonebook, replace the old number with a new one?`)){\n        const existedperson = persons.find(person => person.name === nameObject.name)\n        const changedPerson = { ...existedperson, number: nameObject.number }\n        setNewName('')\n        setNewNumber('')\n        \n        personService\n          .update(changedPerson.id, changedPerson)\n          .then(returnedPerson => {\n            setPersons(persons.map(person => person.id !== returnedPerson.id ? person : returnedPerson)\n            )\n            setSuccessMessage(`Number of '${changedPerson.name}' is updated`)\n              setTimeout(() => {\n              setSuccessMessage(null)\n            }, 5000)\n          })\n        \n        \n      }\n    } else {\n      setPersons(persons.concat(nameObject))\n      setSuccessMessage(`'${nameObject.name}' is added to the phonebook`)\n        setTimeout(() => {\n        setSuccessMessage(null)\n      }, 5000)\n      setNewName('')\n      setNewNumber('')\n\n      personService\n      .create(nameObject)\n      .then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson))\n      })\n      .catch(error => {\n        setSuccessMessage(null)\n        setErrorMessage(`${error.response.data.error}`)\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000)\n        setPersons(persons.filter(n => n.name !== nameObject.name))\n      })\n      \n      \n      \n  }};\n\n  \n  \n  const handleNameChange = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value);\n  };\n  \n  \n  const handlefilterChange = (event) => {\n    setFilter(event.target.value);\n  };\n\n  const handleDelete = person => {\n    personService\n    .remove(person)\n    .catch(error => {\n      setErrorMessage(`Name'${person.name}' was already deleted from phonebook`)\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 5000)\n        setPersons(persons.filter(n => n.id !== person.id))\n      })\n    .then(response => {\n      window.confirm(`Delete ${person.name}?`);\n      personService\n      .getAll()\n      .then(initialNames => {\n        setPersons(initialNames)\n      })\n    });\n    \n  } \n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <SuccessNotification message={successMessage}/>\n      <ErrorNotification message={errorMessage}/>\n      <Filter  value={filterValue}\n          onChange={handlefilterChange}/>\n      <PersonForm onSubmit={addName} valueName={newName} onChangeName={handleNameChange} valueNumber={newNumber} onChangeNumber={handleNumberChange}/>\n\n      <h2>Numbers</h2>\n      <Persons persons = {persons} filterValue = {filterValue} onDelete ={handleDelete}/>\n    </div>\n  )\n}\n\nexport default App;","import ReactDOM from 'react-dom'\nimport App from './App.js'\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}